{"version":3,"file":"index.cjs","sources":["../node_modules/borsh/lib/esm/utils.js","../node_modules/borsh/lib/esm/types.js","../node_modules/borsh/lib/esm/buffer.js","../node_modules/borsh/lib/esm/serialize.js","../node_modules/borsh/lib/esm/deserialize.js","../node_modules/borsh/lib/esm/index.js","../src/raw_instructions.ts","../src/bindings.ts","../src/state.ts"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { integers } from './types.js';\nexport function isArrayLike(value) {\n    // source: https://stackoverflow.com/questions/24048547/checking-if-an-object-is-array-like\n    return (Array.isArray(value) ||\n        (!!value &&\n            typeof value === 'object' &&\n            'length' in value &&\n            typeof (value.length) === 'number' &&\n            (value.length === 0 ||\n                (value.length > 0 &&\n                    (value.length - 1) in value))));\n}\nexport function expect_type(value, type, fieldPath) {\n    if (typeof (value) !== type) {\n        throw new Error(\"Expected \".concat(type, \" not \").concat(typeof (value), \"(\").concat(value, \") at \").concat(fieldPath.join('.')));\n    }\n}\nexport function expect_bigint(value, fieldPath) {\n    var basicType = ['number', 'string', 'bigint', 'boolean'].includes(typeof (value));\n    var strObject = typeof (value) === 'object' && value !== null && 'toString' in value;\n    if (!basicType && !strObject) {\n        throw new Error(\"Expected bigint, number, boolean or string not \".concat(typeof (value), \"(\").concat(value, \") at \").concat(fieldPath.join('.')));\n    }\n}\nexport function expect_same_size(length, expected, fieldPath) {\n    if (length !== expected) {\n        throw new Error(\"Array length \".concat(length, \" does not match schema length \").concat(expected, \" at \").concat(fieldPath.join('.')));\n    }\n}\nexport function expect_enum(value, fieldPath) {\n    if (typeof (value) !== 'object' || value === null) {\n        throw new Error(\"Expected object not \".concat(typeof (value), \"(\").concat(value, \") at \").concat(fieldPath.join('.')));\n    }\n}\n// Validate Schema\nvar VALID_STRING_TYPES = integers.concat(['bool', 'string']);\nvar VALID_OBJECT_KEYS = ['option', 'enum', 'array', 'set', 'map', 'struct'];\nvar ErrorSchema = /** @class */ (function (_super) {\n    __extends(ErrorSchema, _super);\n    function ErrorSchema(schema, expected) {\n        var message = \"Invalid schema: \".concat(JSON.stringify(schema), \" expected \").concat(expected);\n        return _super.call(this, message) || this;\n    }\n    return ErrorSchema;\n}(Error));\nexport { ErrorSchema };\nexport function validate_schema(schema) {\n    if (typeof (schema) === 'string' && VALID_STRING_TYPES.includes(schema)) {\n        return;\n    }\n    if (schema && typeof (schema) === 'object') {\n        var keys = Object.keys(schema);\n        if (keys.length === 1 && VALID_OBJECT_KEYS.includes(keys[0])) {\n            var key = keys[0];\n            if (key === 'option')\n                return validate_schema(schema[key]);\n            if (key === 'enum')\n                return validate_enum_schema(schema[key]);\n            if (key === 'array')\n                return validate_array_schema(schema[key]);\n            if (key === 'set')\n                return validate_schema(schema[key]);\n            if (key === 'map')\n                return validate_map_schema(schema[key]);\n            if (key === 'struct')\n                return validate_struct_schema(schema[key]);\n        }\n    }\n    throw new ErrorSchema(schema, VALID_OBJECT_KEYS.join(', ') + ' or ' + VALID_STRING_TYPES.join(', '));\n}\nfunction validate_enum_schema(schema) {\n    if (!Array.isArray(schema))\n        throw new ErrorSchema(schema, 'Array');\n    for (var _i = 0, schema_1 = schema; _i < schema_1.length; _i++) {\n        var sch = schema_1[_i];\n        if (typeof sch !== 'object' || !('struct' in sch)) {\n            throw new Error('Missing \"struct\" key in enum schema');\n        }\n        if (typeof sch.struct !== 'object' || Object.keys(sch.struct).length !== 1) {\n            throw new Error('The \"struct\" in each enum must have a single key');\n        }\n        validate_schema({ struct: sch.struct });\n    }\n}\nfunction validate_array_schema(schema) {\n    if (typeof schema !== 'object')\n        throw new ErrorSchema(schema, '{ type, len? }');\n    if (schema.len && typeof schema.len !== 'number') {\n        throw new Error(\"Invalid schema: \".concat(schema));\n    }\n    if ('type' in schema)\n        return validate_schema(schema.type);\n    throw new ErrorSchema(schema, '{ type, len? }');\n}\nfunction validate_map_schema(schema) {\n    if (typeof schema === 'object' && 'key' in schema && 'value' in schema) {\n        validate_schema(schema.key);\n        validate_schema(schema.value);\n    }\n    else {\n        throw new ErrorSchema(schema, '{ key, value }');\n    }\n}\nfunction validate_struct_schema(schema) {\n    if (typeof schema !== 'object')\n        throw new ErrorSchema(schema, 'object');\n    for (var key in schema) {\n        validate_schema(schema[key]);\n    }\n}\n","export var integers = ['u8', 'u16', 'u32', 'u64', 'u128', 'i8', 'i16', 'i32', 'i64', 'i128', 'f32', 'f64'];\n","var EncodeBuffer = /** @class */ (function () {\n    function EncodeBuffer() {\n        this.offset = 0;\n        this.buffer_size = 256;\n        this.buffer = new ArrayBuffer(this.buffer_size);\n        this.view = new DataView(this.buffer);\n    }\n    EncodeBuffer.prototype.resize_if_necessary = function (needed_space) {\n        if (this.buffer_size - this.offset < needed_space) {\n            this.buffer_size = Math.max(this.buffer_size * 2, this.buffer_size + needed_space);\n            var new_buffer = new ArrayBuffer(this.buffer_size);\n            new Uint8Array(new_buffer).set(new Uint8Array(this.buffer));\n            this.buffer = new_buffer;\n            this.view = new DataView(new_buffer);\n        }\n    };\n    EncodeBuffer.prototype.get_used_buffer = function () {\n        return new Uint8Array(this.buffer).slice(0, this.offset);\n    };\n    EncodeBuffer.prototype.store_value = function (value, type) {\n        var bSize = type.substring(1);\n        var size = parseInt(bSize) / 8;\n        this.resize_if_necessary(size);\n        var toCall = type[0] === 'f' ? \"setFloat\".concat(bSize) : type[0] === 'i' ? \"setInt\".concat(bSize) : \"setUint\".concat(bSize);\n        this.view[toCall](this.offset, value, true);\n        this.offset += size;\n    };\n    EncodeBuffer.prototype.store_bytes = function (from) {\n        this.resize_if_necessary(from.length);\n        new Uint8Array(this.buffer).set(new Uint8Array(from), this.offset);\n        this.offset += from.length;\n    };\n    return EncodeBuffer;\n}());\nexport { EncodeBuffer };\nvar DecodeBuffer = /** @class */ (function () {\n    function DecodeBuffer(buf) {\n        this.offset = 0;\n        this.buffer_size = buf.length;\n        this.buffer = new ArrayBuffer(buf.length);\n        new Uint8Array(this.buffer).set(buf);\n        this.view = new DataView(this.buffer);\n    }\n    DecodeBuffer.prototype.assert_enough_buffer = function (size) {\n        if (this.offset + size > this.buffer.byteLength) {\n            throw new Error('Error in schema, the buffer is smaller than expected');\n        }\n    };\n    DecodeBuffer.prototype.consume_value = function (type) {\n        var bSize = type.substring(1);\n        var size = parseInt(bSize) / 8;\n        this.assert_enough_buffer(size);\n        var toCall = type[0] === 'f' ? \"getFloat\".concat(bSize) : type[0] === 'i' ? \"getInt\".concat(bSize) : \"getUint\".concat(bSize);\n        var ret = this.view[toCall](this.offset, true);\n        this.offset += size;\n        return ret;\n    };\n    DecodeBuffer.prototype.consume_bytes = function (size) {\n        this.assert_enough_buffer(size);\n        var ret = this.buffer.slice(this.offset, this.offset + size);\n        this.offset += size;\n        return ret;\n    };\n    return DecodeBuffer;\n}());\nexport { DecodeBuffer };\n","import { integers } from './types.js';\nimport { EncodeBuffer } from './buffer.js';\nimport * as utils from './utils.js';\nvar BorshSerializer = /** @class */ (function () {\n    function BorshSerializer(checkTypes) {\n        this.encoded = new EncodeBuffer();\n        this.fieldPath = ['value'];\n        this.checkTypes = checkTypes;\n    }\n    BorshSerializer.prototype.encode = function (value, schema) {\n        this.encode_value(value, schema);\n        return this.encoded.get_used_buffer();\n    };\n    BorshSerializer.prototype.encode_value = function (value, schema) {\n        if (typeof schema === 'string') {\n            if (integers.includes(schema))\n                return this.encode_integer(value, schema);\n            if (schema === 'string')\n                return this.encode_string(value);\n            if (schema === 'bool')\n                return this.encode_boolean(value);\n        }\n        if (typeof schema === 'object') {\n            if ('option' in schema)\n                return this.encode_option(value, schema);\n            if ('enum' in schema)\n                return this.encode_enum(value, schema);\n            if ('array' in schema)\n                return this.encode_array(value, schema);\n            if ('set' in schema)\n                return this.encode_set(value, schema);\n            if ('map' in schema)\n                return this.encode_map(value, schema);\n            if ('struct' in schema)\n                return this.encode_struct(value, schema);\n        }\n    };\n    BorshSerializer.prototype.encode_integer = function (value, schema) {\n        var size = parseInt(schema.substring(1));\n        if (size <= 32 || schema == 'f64') {\n            this.checkTypes && utils.expect_type(value, 'number', this.fieldPath);\n            this.encoded.store_value(value, schema);\n        }\n        else {\n            this.checkTypes && utils.expect_bigint(value, this.fieldPath);\n            this.encode_bigint(BigInt(value), size);\n        }\n    };\n    BorshSerializer.prototype.encode_bigint = function (value, size) {\n        var buffer_len = size / 8;\n        var buffer = new Uint8Array(buffer_len);\n        for (var i = 0; i < buffer_len; i++) {\n            buffer[i] = Number(value & BigInt(0xff));\n            value = value >> BigInt(8);\n        }\n        this.encoded.store_bytes(new Uint8Array(buffer));\n    };\n    BorshSerializer.prototype.encode_string = function (value) {\n        this.checkTypes && utils.expect_type(value, 'string', this.fieldPath);\n        var _value = value;\n        // 4 bytes for length\n        this.encoded.store_value(_value.length, 'u32');\n        // string bytes\n        for (var i = 0; i < _value.length; i++) {\n            this.encoded.store_value(_value.charCodeAt(i), 'u8');\n        }\n    };\n    BorshSerializer.prototype.encode_boolean = function (value) {\n        this.checkTypes && utils.expect_type(value, 'boolean', this.fieldPath);\n        this.encoded.store_value(value ? 1 : 0, 'u8');\n    };\n    BorshSerializer.prototype.encode_option = function (value, schema) {\n        if (value === null || value === undefined) {\n            this.encoded.store_value(0, 'u8');\n        }\n        else {\n            this.encoded.store_value(1, 'u8');\n            this.encode_value(value, schema.option);\n        }\n    };\n    BorshSerializer.prototype.encode_enum = function (value, schema) {\n        this.checkTypes && utils.expect_enum(value, this.fieldPath);\n        var valueKey = Object.keys(value)[0];\n        for (var i = 0; i < schema[\"enum\"].length; i++) {\n            var valueSchema = schema[\"enum\"][i];\n            if (valueKey === Object.keys(valueSchema.struct)[0]) {\n                this.encoded.store_value(i, 'u8');\n                return this.encode_struct(value, valueSchema);\n            }\n        }\n        throw new Error(\"Enum key (\".concat(valueKey, \") not found in enum schema: \").concat(JSON.stringify(schema), \" at \").concat(this.fieldPath.join('.')));\n    };\n    BorshSerializer.prototype.encode_array = function (value, schema) {\n        if (utils.isArrayLike(value))\n            return this.encode_arraylike(value, schema);\n        if (value instanceof ArrayBuffer)\n            return this.encode_buffer(value, schema);\n        throw new Error(\"Expected Array-like not \".concat(typeof (value), \"(\").concat(value, \") at \").concat(this.fieldPath.join('.')));\n    };\n    BorshSerializer.prototype.encode_arraylike = function (value, schema) {\n        if (schema.array.len) {\n            utils.expect_same_size(value.length, schema.array.len, this.fieldPath);\n        }\n        else {\n            // 4 bytes for length\n            this.encoded.store_value(value.length, 'u32');\n        }\n        // array values\n        for (var i = 0; i < value.length; i++) {\n            this.encode_value(value[i], schema.array.type);\n        }\n    };\n    BorshSerializer.prototype.encode_buffer = function (value, schema) {\n        if (schema.array.len) {\n            utils.expect_same_size(value.byteLength, schema.array.len, this.fieldPath);\n        }\n        else {\n            // 4 bytes for length\n            this.encoded.store_value(value.byteLength, 'u32');\n        }\n        // array values\n        this.encoded.store_bytes(new Uint8Array(value));\n    };\n    BorshSerializer.prototype.encode_set = function (value, schema) {\n        this.checkTypes && utils.expect_type(value, 'object', this.fieldPath);\n        var isSet = value instanceof Set;\n        var values = isSet ? Array.from(value.values()) : Object.values(value);\n        // 4 bytes for length\n        this.encoded.store_value(values.length, 'u32');\n        // set values\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var value_1 = values_1[_i];\n            this.encode_value(value_1, schema.set);\n        }\n    };\n    BorshSerializer.prototype.encode_map = function (value, schema) {\n        this.checkTypes && utils.expect_type(value, 'object', this.fieldPath);\n        var isMap = value instanceof Map;\n        var keys = isMap ? Array.from(value.keys()) : Object.keys(value);\n        // 4 bytes for length\n        this.encoded.store_value(keys.length, 'u32');\n        // store key/values\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            this.encode_value(key, schema.map.key);\n            this.encode_value(isMap ? value.get(key) : value[key], schema.map.value);\n        }\n    };\n    BorshSerializer.prototype.encode_struct = function (value, schema) {\n        this.checkTypes && utils.expect_type(value, 'object', this.fieldPath);\n        for (var _i = 0, _a = Object.keys(schema.struct); _i < _a.length; _i++) {\n            var key = _a[_i];\n            this.fieldPath.push(key);\n            this.encode_value(value[key], schema.struct[key]);\n            this.fieldPath.pop();\n        }\n    };\n    return BorshSerializer;\n}());\nexport { BorshSerializer };\n","import { integers } from './types.js';\nimport { DecodeBuffer } from './buffer.js';\nvar BorshDeserializer = /** @class */ (function () {\n    function BorshDeserializer(bufferArray) {\n        this.buffer = new DecodeBuffer(bufferArray);\n    }\n    BorshDeserializer.prototype.decode = function (schema) {\n        return this.decode_value(schema);\n    };\n    BorshDeserializer.prototype.decode_value = function (schema) {\n        if (typeof schema === 'string') {\n            if (integers.includes(schema))\n                return this.decode_integer(schema);\n            if (schema === 'string')\n                return this.decode_string();\n            if (schema === 'bool')\n                return this.decode_boolean();\n        }\n        if (typeof schema === 'object') {\n            if ('option' in schema)\n                return this.decode_option(schema);\n            if ('enum' in schema)\n                return this.decode_enum(schema);\n            if ('array' in schema)\n                return this.decode_array(schema);\n            if ('set' in schema)\n                return this.decode_set(schema);\n            if ('map' in schema)\n                return this.decode_map(schema);\n            if ('struct' in schema)\n                return this.decode_struct(schema);\n        }\n        throw new Error(\"Unsupported type: \".concat(schema));\n    };\n    BorshDeserializer.prototype.decode_integer = function (schema) {\n        var size = parseInt(schema.substring(1));\n        if (size <= 32 || schema == 'f64') {\n            return this.buffer.consume_value(schema);\n        }\n        return this.decode_bigint(size, schema.startsWith('i'));\n    };\n    BorshDeserializer.prototype.decode_bigint = function (size, signed) {\n        if (signed === void 0) { signed = false; }\n        var buffer_len = size / 8;\n        var buffer = new Uint8Array(this.buffer.consume_bytes(buffer_len));\n        var bits = buffer.reduceRight(function (r, x) { return r + x.toString(16).padStart(2, '0'); }, '');\n        if (signed && buffer[buffer_len - 1]) {\n            return BigInt.asIntN(size, BigInt(\"0x\".concat(bits)));\n        }\n        return BigInt(\"0x\".concat(bits));\n    };\n    BorshDeserializer.prototype.decode_string = function () {\n        var len = this.decode_integer('u32');\n        var buffer = new Uint8Array(this.buffer.consume_bytes(len));\n        return String.fromCharCode.apply(null, buffer);\n    };\n    BorshDeserializer.prototype.decode_boolean = function () {\n        return this.buffer.consume_value('u8') > 0;\n    };\n    BorshDeserializer.prototype.decode_option = function (schema) {\n        var option = this.buffer.consume_value('u8');\n        if (option === 1) {\n            return this.decode_value(schema.option);\n        }\n        if (option !== 0) {\n            throw new Error(\"Invalid option \".concat(option));\n        }\n        return null;\n    };\n    BorshDeserializer.prototype.decode_enum = function (schema) {\n        var _a;\n        var valueIndex = this.buffer.consume_value('u8');\n        if (valueIndex > schema[\"enum\"].length) {\n            throw new Error(\"Enum option \".concat(valueIndex, \" is not available\"));\n        }\n        var struct = schema[\"enum\"][valueIndex].struct;\n        var key = Object.keys(struct)[0];\n        return _a = {}, _a[key] = this.decode_value(struct[key]), _a;\n    };\n    BorshDeserializer.prototype.decode_array = function (schema) {\n        var result = [];\n        var len = schema.array.len ? schema.array.len : this.decode_integer('u32');\n        for (var i = 0; i < len; ++i) {\n            result.push(this.decode_value(schema.array.type));\n        }\n        return result;\n    };\n    BorshDeserializer.prototype.decode_set = function (schema) {\n        var len = this.decode_integer('u32');\n        var result = new Set();\n        for (var i = 0; i < len; ++i) {\n            result.add(this.decode_value(schema.set));\n        }\n        return result;\n    };\n    BorshDeserializer.prototype.decode_map = function (schema) {\n        var len = this.decode_integer('u32');\n        var result = new Map();\n        for (var i = 0; i < len; ++i) {\n            var key = this.decode_value(schema.map.key);\n            var value = this.decode_value(schema.map.value);\n            result.set(key, value);\n        }\n        return result;\n    };\n    BorshDeserializer.prototype.decode_struct = function (schema) {\n        var result = {};\n        for (var key in schema.struct) {\n            result[key] = this.decode_value(schema.struct[key]);\n        }\n        return result;\n    };\n    return BorshDeserializer;\n}());\nexport { BorshDeserializer };\n","import { BorshSerializer } from './serialize.js';\nimport { BorshDeserializer } from './deserialize.js';\nimport * as utils from './utils.js';\nexport function serialize(schema, value, validate) {\n    if (validate === void 0) { validate = true; }\n    if (validate)\n        utils.validate_schema(schema);\n    var serializer = new BorshSerializer(validate);\n    return serializer.encode(value, schema);\n}\nexport function deserialize(schema, buffer, validate) {\n    if (validate === void 0) { validate = true; }\n    if (validate)\n        utils.validate_schema(schema);\n    var deserializer = new BorshDeserializer(buffer);\n    return deserializer.decode(schema);\n}\n",null,null,null],"names":["extendStatics","integers","EncodeBuffer","this","offset","buffer_size","buffer","ArrayBuffer","view","DataView","prototype","resize_if_necessary","needed_space","Math","max","new_buffer","Uint8Array","set","get_used_buffer","slice","store_value","value","type","bSize","substring","size","parseInt","toCall","concat","store_bytes","from","length","DecodeBuffer","buf","assert_enough_buffer","byteLength","Error","consume_value","ret","consume_bytes","__extends","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","expect_type","fieldPath","join","expect_same_size","expected","VALID_STRING_TYPES","VALID_OBJECT_KEYS","ErrorSchema","_super","schema","message","JSON","stringify","validate_schema","includes","keys","key","isArray","_i","schema_1","sch","struct","validate_enum_schema","len","validate_array_schema","validate_map_schema","validate_struct_schema","BorshSerializer","checkTypes","encoded","encode","encode_value","encode_integer","encode_string","encode_boolean","encode_option","encode_enum","encode_array","encode_set","encode_map","encode_struct","utils","encode_bigint","BigInt","buffer_len","i","Number","_value","charCodeAt","option","valueKey","valueSchema","encode_arraylike","encode_buffer","array","values","Set","values_1","value_1","isMap","Map","keys_1","map","get","_a","push","pop","BorshDeserializer","bufferArray","decode","decode_value","decode_integer","decode_string","decode_boolean","decode_option","decode_enum","decode_array","decode_set","decode_map","decode_struct","decode_bigint","startsWith","signed","bits","reduceRight","r","x","toString","padStart","asIntN","fromCharCode","apply","valueIndex","result","add","serialize","validate","allocateAndPostRecordInstruction","obj","tag","record","content","getInstruction","programId","systemProgram","splNameServiceProgram","feePayer","domain","domainOwner","centralState","data","Buffer","pubkey","isSigner","isWritable","TransactionInstruction","validateEthereumSignatureInstruction","validation","signature","expectedPubkey","allocateRecordInstruction","contentLength","validateSolanaSignatureInstruction","staleness","verifier","editRecordInstruction","deleteRecordInstruction","writeRoaInstruction","roaId","unverifyRoaInstruction","SNS_RECORDS_ID","PublicKey","CENTRAL_STATE_SNS_RECORDS","findProgramAddressSync","toBuffer","Validation","getValidationLength","None","Ethereum","Solana","UnverifiedSolana","RecordHeader","stalenessValidation","rightOfAssociationValidation","deserialize","retrieve","connection","info","getAccountInfo","LEN","Record","header","retrieveBatch","getMultipleAccountsInfo","getContent","startOffset","getStalenessId","endOffset","getRoAId","recordKey","domainKey","nameProgramId","SystemProgram"],"mappings":"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AAOlK,KAAKoM,YAAYG,EAAKrC,KAC9B,GAGJ,CAED,UAAA4C,GACE,IAAIC,EACFnB,EAAoB5L,KAAK2M,OAAOT,qBAChCN,EAAoB5L,KAAK2M,OAAOR,8BAClC,OAAOnM,KAAKkK,KAAKlJ,MAAM+L,EACxB,CAED,cAAAC,GACE,IAAIC,EAAYrB,EAAoB5L,KAAK2M,OAAOT,qBAChD,OAAOlM,KAAKkK,KAAKlJ,MAAM,EAAGiM,EAC3B,CAED,QAAAC,GACE,IAAIH,EAAcnB,EAAoB5L,KAAK2M,OAAOT,qBAC9Ce,EACFF,EACAnB,EAAoB5L,KAAK2M,OAAOR,8BAClC,OAAOnM,KAAKkK,KAAKlJ,MAAM+L,EAAaE,EACrC,gEA/H8B,kGDgCI,CACnCnD,EACAqD,EACAC,EACApD,EACAqD,EACA7D,EACAC,EACAE,IAEW,IAAIN,EAAiC,CAC9CG,SACAC,QAAS9G,MAAMhB,KAAK8H,KACnBC,eACDC,EACA2D,EAAAA,cAAc3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,qEAK0B,CAC5B1B,EACAqD,EACAC,EACApD,EACAqD,EACA7D,EACAqB,EACAlB,IAEW,IAAIiB,EAA0B,CACvCC,gBACArB,WACCE,eACDC,EACA2D,EAAAA,cAAc3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,4DAKwB,CAC1B1B,EACAsD,EACApD,EACAmD,EACAE,EACA1D,KAEW,IAAIuB,GAA0BxB,eACvCC,EACA2D,EAAaA,cAAC3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,wDAKsB,CACxB1B,EACAqD,EACAC,EACApD,EACAqD,EACA7D,EACAC,EACAE,IAEW,IAAIsB,EAAsB,CACnCzB,SACAC,QAAS9G,MAAMhB,KAAK8H,KACnBC,eACDC,EACA2D,EAAAA,cAAc3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,qFAmFuB,CACzB1B,EACAuD,EACAF,EACAC,EACApC,EACArB,KAEW,IAAI0B,GAAyB3B,eACtCC,EACA2D,EAAaA,cAAC3D,UACd0D,EACAvD,EACAqD,EACAC,EACA5B,EACAR,iEA9FgC,CAClClB,EACAqD,EACAC,EACApD,EACAqD,EACA5C,EACAC,EACAC,EACAhB,IAEW,IAAIa,EAAqC,CAClDC,aACAC,UAAW/H,MAAMhB,KAAK+I,GACtBC,eAAgBhI,MAAMhB,KAAKgJ,KAC1BjB,eACDC,EACA2D,EAAAA,cAAc3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,kFAKmC,CACrC1B,EACAqD,EACAC,EACApD,EACAgB,EACAqC,EACAtC,EACApB,IAEW,IAAImB,EAAmC,CAChDC,cACCrB,eACDC,EACA2D,EAAaA,cAAC3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB,EACAR,iEAKoB,CACtBlB,EACAuD,EACAF,EACAC,EACApD,EACAoB,EACAzB,IAEW,IAAIwB,EAAoB,CACjCC,MAAOzI,MAAMhB,KAAKyJ,EAAMM,cACvBhC,eACDC,EACA2D,EAAAA,cAAc3D,UACd0D,EACAvD,EACAqD,EACAC,EACApD,EACAwB"}