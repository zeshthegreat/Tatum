"use strict";var e=require("../state.cjs"),t=require("../utils/getDomainKeySync.cjs"),r=require("../utils/getReverseKeySync.cjs"),a=require("../error.cjs"),i=require("./createNameRegistry.cjs"),s=require("./createReverseName.cjs");exports.createSubdomain=async(c,n,o,u=2e3,m)=>{const y=[],g=n.split(".")[0];if(!g)throw new a.InvalidDomainError("The subdomain name is malformed");const{parent:R,pubkey:l}=t.getDomainKeySync(n),v=await c.getMinimumBalanceForRentExemption(u+e.NameRegistryState.HEADER_LEN),d=await i.createNameRegistry(c,"\0".concat(g),u,m||o,o,v,void 0,R);y.push(d);const p=r.getReverseKeySync(n,!0),j=await c.getAccountInfo(p);if(!(null==j?void 0:j.data)){const e=await s.createReverseName(l,"\0".concat(g),m||o,R,o);y.push(...e)}return y};
//# sourceMappingURL=createSubdomain.cjs.map
