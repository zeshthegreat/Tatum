"use strict";var e=require("../constants.cjs"),s=require("./deserializeReverse.cjs"),t=require("./getReverseKeyFromDomainKey.cjs");exports.findSubdomains=async(a,r)=>{const o=[{memcmp:{offset:0,bytes:r.toBase58()}},{memcmp:{offset:64,bytes:e.REVERSE_LOOKUP_CLASS.toBase58()}}],c=await a.getProgramAccounts(e.NAME_PROGRAM_ID,{filters:o}),i=[{memcmp:{offset:0,bytes:r.toBase58()}}],m=await a.getProgramAccounts(e.NAME_PROGRAM_ID,{filters:i,dataSlice:{offset:0,length:0}}),n=new Map(c.map((e=>[e.pubkey.toBase58(),s.deserializeReverse(e.account.data.slice(96),!0)]))),f=[];return m.forEach((e=>{const s=t.getReverseKeyFromDomainKey(e.pubkey,r).toBase58(),a=n.get(s);a&&f.push(a)})),f};
//# sourceMappingURL=findSubdomains.cjs.map
