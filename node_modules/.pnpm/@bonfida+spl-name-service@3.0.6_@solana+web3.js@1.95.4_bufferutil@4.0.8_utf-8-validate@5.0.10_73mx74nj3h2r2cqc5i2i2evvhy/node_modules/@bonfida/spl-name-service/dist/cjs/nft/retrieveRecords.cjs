"use strict";var e=require("./state.cjs"),t=require("./getRecordFromMint.cjs"),s=require("../node_modules/@solana/spl-token/lib/esm/constants.cjs"),a=require("../node_modules/@solana/spl-token/lib/esm/state/account.cjs");const o=e=>[{memcmp:{offset:32,bytes:e}},{memcmp:{offset:64,bytes:"2"}}];exports.retrieveRecords=async(r,c)=>{const n=[...o(c.toBase58()),{dataSize:165}],i=(await r.getProgramAccounts(s.TOKEN_PROGRAM_ID,{filters:n})).map((e=>a.AccountLayout.decode(e.account.data))).map((s=>(async(s,a)=>{const o=await t.getRecordFromMint(s,a.mint);if(1===o.length)return e.NftRecord.deserialize(o[0].account.data)})(r,s)));return(await Promise.all(i)).filter((e=>void 0!==e))};
//# sourceMappingURL=retrieveRecords.cjs.map
