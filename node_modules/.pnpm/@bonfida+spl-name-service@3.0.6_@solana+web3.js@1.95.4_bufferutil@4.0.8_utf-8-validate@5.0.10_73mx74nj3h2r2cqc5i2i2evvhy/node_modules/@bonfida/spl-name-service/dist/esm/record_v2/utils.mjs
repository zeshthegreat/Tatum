import{PublicKey as e}from"@solana/web3.js";import{getRecordV2Key as o}from"./getRecordV2Key.mjs";import{Record as r,Validation as t}from"../node_modules/@bonfida/sns-records/dist/index.mjs";import{NameRegistryState as s}from"../state.mjs";import{getDomainKeySync as a}from"../utils/getDomainKeySync.mjs";const n=async(n,i,m)=>{const d=o(m,i),{registry:l,nftOwner:c}=await s.retrieve(n,a(m).pubkey),f=c||l.owner,p=await r.retrieve(n,d),u=p.getStalenessId();return(null==f?void 0:f.equals(new e(u)))&&p.header.stalenessValidation===t.Solana};export{n as verifyStaleness};
//# sourceMappingURL=utils.mjs.map
