var t=0,e=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function n(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new r,this.dtree=new r}var o=new r,a=new r,s=new Uint8Array(30),u=new Uint16Array(30),c=new Uint8Array(30),i=new Uint16Array(30),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new r,b=new Uint8Array(320);function l(t,e,r,n){var o,a;for(o=0;o<r;++o)t[o]=0;for(o=0;o<30-r;++o)t[o+r]=o/r|0;for(a=n,o=0;o<30;++o)e[o]=a,a+=1<<t[o]}var w=new Uint16Array(16);function v(t,e,r,n){var o,a;for(o=0;o<16;++o)t.table[o]=0;for(o=0;o<n;++o)t.table[e[r+o]]++;for(t.table[0]=0,a=0,o=0;o<16;++o)w[o]=a,a+=t.table[o];for(o=0;o<n;++o)e[r+o]&&(t.trans[w[e[r+o]]++]=o)}function h(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function x(t,e,r){if(!e)return r;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,n+r}function g(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=0,n=0,o=0,a=t.tag;do{n=2*n+(1&a),a>>>=1,++o,r+=e.table[o],n-=e.table[o]}while(n>=0);return t.tag=a,t.bitcount-=o,e.trans[r+n]}function y(t,e,r){var n,o,a,s,u,c;for(n=x(t,5,257),o=x(t,5,1),a=x(t,4,4),s=0;s<19;++s)b[s]=0;for(s=0;s<a;++s){var i=x(t,3,0);b[f[s]]=i}for(v(d,b,0,19),u=0;u<n+o;){var l=g(t,d);switch(l){case 16:var w=b[u-1];for(c=x(t,2,3);c;--c)b[u++]=w;break;case 17:for(c=x(t,3,3);c;--c)b[u++]=0;break;case 18:for(c=x(t,7,11);c;--c)b[u++]=0;break;default:b[u++]=l}}v(e,b,0,n),v(r,b,n,o)}function I(e,r,n){for(;;){var o,a,f,d,b=g(e,r);if(256===b)return t;if(b<256)e.dest[e.destLen++]=b;else for(o=x(e,s[b-=257],u[b]),a=g(e,n),d=f=e.destLen-x(e,c[a],i[a]);d<f+o;++d)e.dest[e.destLen++]=e.dest[d]}}function A(r){for(var n,o;r.bitcount>8;)r.sourceIndex--,r.bitcount-=8;if((n=256*(n=r.source[r.sourceIndex+1])+r.source[r.sourceIndex])!==(65535&~(256*r.source[r.sourceIndex+3]+r.source[r.sourceIndex+2])))return e;for(r.sourceIndex+=4,o=n;o;--o)r.dest[r.destLen++]=r.source[r.sourceIndex++];return r.bitcount=0,t}!function(t,e){var r;for(r=0;r<7;++r)t.table[r]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,r=0;r<24;++r)t.trans[r]=256+r;for(r=0;r<144;++r)t.trans[24+r]=r;for(r=0;r<8;++r)t.trans[168+r]=280+r;for(r=0;r<112;++r)t.trans[176+r]=144+r;for(r=0;r<5;++r)e.table[r]=0;for(e.table[5]=32,r=0;r<32;++r)e.trans[r]=r}(o,a),l(s,u,4,3),l(c,i,2,1),s[28]=0,u[28]=258;var U=function(r,s){var u,c,i=new n(r,s);do{switch(u=h(i),x(i,2,0)){case 0:c=A(i);break;case 1:c=I(i,o,a);break;case 2:y(i,i.ltree,i.dtree),c=I(i,i.ltree,i.dtree);break;default:c=e}if(c!==t)throw new Error("Data error")}while(!u);return i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest};export{U as t};
//# sourceMappingURL=index.mjs.map
