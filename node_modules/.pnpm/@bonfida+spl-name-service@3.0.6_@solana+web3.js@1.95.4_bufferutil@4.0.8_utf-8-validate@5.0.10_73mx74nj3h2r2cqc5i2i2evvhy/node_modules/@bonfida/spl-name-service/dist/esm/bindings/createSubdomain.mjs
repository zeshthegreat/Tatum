import{NameRegistryState as t}from"../state.mjs";import{getDomainKeySync as e}from"../utils/getDomainKeySync.mjs";import{getReverseKeySync as o}from"../utils/getReverseKeySync.mjs";import{InvalidDomainError as m}from"../error.mjs";import{createNameRegistry as r}from"./createNameRegistry.mjs";import{createReverseName as a}from"./createReverseName.mjs";const i=async(i,n,s,c=2e3,p)=>{const f=[],u=n.split(".")[0];if(!u)throw new m("The subdomain name is malformed");const{parent:l,pubkey:y}=e(n),j=await i.getMinimumBalanceForRentExemption(c+t.HEADER_LEN),w=await r(i,"\0".concat(u),c,p||s,s,j,void 0,l);f.push(w);const d=o(n,!0),g=await i.getAccountInfo(d);if(!(null==g?void 0:g.data)){const t=await a(y,"\0".concat(u),p||s,l,s);f.push(...t)}return f};export{i as createSubdomain};
//# sourceMappingURL=createSubdomain.mjs.map
