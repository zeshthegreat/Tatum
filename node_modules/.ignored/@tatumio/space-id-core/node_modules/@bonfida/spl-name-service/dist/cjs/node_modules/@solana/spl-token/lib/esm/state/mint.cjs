"use strict";require("../../../../../buffer/index.cjs");var e=require("@solana/buffer-layout"),t=require("@solana/buffer-layout-utils"),r=require("@solana/web3.js"),i=require("../constants.cjs"),n=require("../errors.cjs"),o=require("../extensions/accountType.cjs"),u=require("./account.cjs"),s=require("./multisig.cjs"),a=require("../../../../../../_virtual/index.cjs");const c=e.struct([e.u32("mintAuthorityOption"),t.publicKey("mintAuthority"),t.u64("supply"),e.u8("decimals"),t.bool("isInitialized"),e.u32("freezeAuthorityOption"),t.publicKey("freezeAuthority")]),l=c.span;function f(e,t,r=i.TOKEN_PROGRAM_ID){if(!t)throw new n.TokenAccountNotFoundError;if(!t.owner.equals(r))throw new n.TokenInvalidAccountOwnerError;if(t.data.length<l)throw new n.TokenInvalidAccountSizeError;const f=c.decode(t.data.slice(0,l));let d=a.__exports.Buffer.alloc(0);if(t.data.length>l){if(t.data.length<=u.ACCOUNT_SIZE)throw new n.TokenInvalidAccountSizeError;if(t.data.length===s.MULTISIG_SIZE)throw new n.TokenInvalidAccountSizeError;if(t.data[u.ACCOUNT_SIZE]!=o.AccountType.Mint)throw new n.TokenInvalidMintError;d=t.data.slice(u.ACCOUNT_SIZE+o.ACCOUNT_TYPE_SIZE)}return{address:e,mintAuthority:f.mintAuthorityOption?f.mintAuthority:null,supply:f.supply,decimals:f.decimals,isInitialized:f.isInitialized,freezeAuthority:f.freezeAuthorityOption?f.freezeAuthority:null,tlvData:d}}exports.MINT_SIZE=l,exports.MintLayout=c,exports.getAssociatedTokenAddressSync=function(e,t,o=!1,u=i.TOKEN_PROGRAM_ID,s=i.ASSOCIATED_TOKEN_PROGRAM_ID){if(!o&&!r.PublicKey.isOnCurve(t.toBuffer()))throw new n.TokenOwnerOffCurveError;const[a]=r.PublicKey.findProgramAddressSync([t.toBuffer(),u.toBuffer(),e.toBuffer()],s);return a},exports.getMint=async function(e,t,r,n=i.TOKEN_PROGRAM_ID){return f(t,await e.getAccountInfo(t,r),n)},exports.unpackMint=f;
//# sourceMappingURL=mint.cjs.map
