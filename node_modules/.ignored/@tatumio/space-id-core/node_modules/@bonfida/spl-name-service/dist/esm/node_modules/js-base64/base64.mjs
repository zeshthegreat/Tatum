import"../buffer/index.mjs";import{commonjsGlobal as r}from"../../_virtual/_commonjsHelpers.mjs";import{__module as t}from"../../_virtual/base64.mjs";import{__exports as n}from"../../_virtual/index.mjs";var e,o,u,i,f,a,c,s,d,l,p,h,A,y,b,m,g,x,B,v,C,U,F,w,S,_,j,E,D,R,z,T,Z,I,O,P,L,V,k,H,N;"undefined"!=typeof self?self:"undefined"!=typeof window&&window,t.exports=(o=e="3.7.5",u="function"==typeof atob,i="function"==typeof btoa,f="function"==typeof n.Buffer,a="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=Array.prototype.slice.call(s),N={},d.forEach((function(r,t){return N[r]=t})),l=N,p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),A="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(r){return new Uint8Array(Array.prototype.slice.call(r,0))},y=function(r){return r.replace(/=/g,"").replace(/[+\/]/g,(function(r){return"+"==r?"-":"_"}))},b=function(r){return r.replace(/[^A-Za-z0-9\+\/]/g,"")},m=function(r){for(var t,n,e,o,u="",i=r.length%3,f=0;f<r.length;){if((n=r.charCodeAt(f++))>255||(e=r.charCodeAt(f++))>255||(o=r.charCodeAt(f++))>255)throw new TypeError("invalid character found");u+=d[(t=n<<16|e<<8|o)>>18&63]+d[t>>12&63]+d[t>>6&63]+d[63&t]}return i?u.slice(0,i-3)+"===".substring(i):u},x=f?function(r){return n.Buffer.from(r).toString("base64")}:function(r){for(var t=4096,n=[],e=0,o=r.length;e<o;e+=t)n.push(h.apply(null,r.subarray(e,e+t)));return g(n.join(""))},v=function(r){if(r.length<2)return(t=r.charCodeAt(0))<128?r:t<2048?h(192|t>>>6)+h(128|63&t):h(224|t>>>12&15)+h(128|t>>>6&63)+h(128|63&t);var t=65536+1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320);return h(240|t>>>18&7)+h(128|t>>>12&63)+h(128|t>>>6&63)+h(128|63&t)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,F=f?function(r){return n.Buffer.from(r,"utf8").toString("base64")}:c?function(r){return x(c.encode(r))}:function(r){return g(U(r))},S=function(r){return w(r,!0)},_=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,j=function(r){switch(r.length){case 4:var t=((7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3))-65536;return h(55296+(t>>>10))+h(56320+(1023&t));case 3:return h((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return h((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},D=function(r){if(r=r.replace(/\s+/g,""),!p.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(3&r.length));for(var t,n,e,o="",u=0;u<r.length;)t=l[r.charAt(u++)]<<18|l[r.charAt(u++)]<<12|(n=l[r.charAt(u++)])<<6|(e=l[r.charAt(u++)]),o+=64===n?h(t>>16&255):64===e?h(t>>16&255,t>>8&255):h(t>>16&255,t>>8&255,255&t);return o},z=f?function(r){return A(n.Buffer.from(r,"base64"))}:function(r){return A(R(r).split("").map((function(r){return r.charCodeAt(0)})))},T=function(r){return z(I(r))},Z=f?function(r){return n.Buffer.from(r,"base64").toString("utf8")}:a?function(r){return a.decode(z(r))}:function(r){return E(R(r))},I=function(r){return b(r.replace(/[-_]/g,(function(r){return"-"==r?"+":"/"})))},P=function(r){return{value:r,enumerable:!1,writable:!0,configurable:!0}},L=function(){var r=function(r,t){return Object.defineProperty(String.prototype,r,P(t))};r("fromBase64",(function(){return O(this)})),r("toBase64",(function(r){return w(this,r)})),r("toBase64URI",(function(){return w(this,!0)})),r("toBase64URL",(function(){return w(this,!0)})),r("toUint8Array",(function(){return T(this)}))},V=function(){var r=function(r,t){return Object.defineProperty(Uint8Array.prototype,r,P(t))};r("toBase64",(function(r){return B(this,r)})),r("toBase64URI",(function(){return B(this,!0)})),r("toBase64URL",(function(){return B(this,!0)}))},k=function(){L(),V()},H={version:e,VERSION:o,atob:R=u?function(r){return atob(b(r))}:f?function(r){return n.Buffer.from(r,"base64").toString("binary")}:D,atobPolyfill:D,btoa:g=i?function(r){return btoa(r)}:f?function(r){return n.Buffer.from(r,"binary").toString("base64")}:m,btoaPolyfill:m,fromBase64:O=function(r){return Z(I(r))},toBase64:w=function(r,t){return void 0===t&&(t=!1),t?y(F(r)):F(r)},encode:w,encodeURI:S,encodeURL:S,utob:U=function(r){return r.replace(C,v)},btou:E=function(r){return r.replace(_,j)},decode:O,isValid:function(r){if("string"!=typeof r)return!1;var t=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:B=function(r,t){return void 0===t&&(t=!1),t?y(x(r)):x(r)},toUint8Array:T,extendString:L,extendUint8Array:V,extendBuiltins:k,Base64:{}},Object.keys(H).forEach((function(r){return H.Base64[r]=H[r]})),H);var $=t.exports;export{$ as b};
//# sourceMappingURL=base64.mjs.map
