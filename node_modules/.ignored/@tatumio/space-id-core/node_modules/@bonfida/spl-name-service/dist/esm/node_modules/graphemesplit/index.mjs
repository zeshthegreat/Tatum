import{getDefaultExportFromCjs as t}from"../../_virtual/_commonjsHelpers.mjs";import e from"./typeTrie.json.mjs";import o from"./extPict.json.mjs";import{u as r}from"../unicode-trie/index.mjs";import{b as n}from"../js-base64/base64.mjs";import{t as i}from"./types.mjs";const s=i,a=e.data,c=o.data,m=r,f=n.Base64,p=new m(f.toUint8Array(a)),d=new m(f.toUint8Array(c));function l(t,e){return 0!=(t&e)}const u=0,g=1,j=2;function h(t,e){const o=t.length;let r=0,n=u;for(let i=e;i+1<o;i++){const o=t[i+0],a=t[i+1];switch(l(o,s.Regional_Indicator)||(r=0),n){case j:case u:n=l(o,s.Extended_Pictographic)?g:u;break;case g:n=l(o,s.Extend)?g:l(o,s.ZWJ)&&l(a,s.Extended_Pictographic)?j:u}if(!l(o,s.CR)||!l(a,s.LF)){if(l(o,s.Control|s.CR|s.LF))return i+1-e;if(l(a,s.Control|s.CR|s.LF))return i+1-e;if(!(l(o,s.L)&&l(a,s.L|s.V|s.LV|s.LVT)||l(o,s.LV|s.V)&&l(a,s.V|s.T)||l(o,s.LVT|s.T)&&l(a,s.T)||l(a,s.Extend|s.ZWJ)||l(a,s.SpacingMark)||l(o,s.Prepend)||n===j)){if(!l(o,s.Regional_Indicator)||!l(a,s.Regional_Indicator)||r%2!=0)return i+1-e;r++}}}return o-e}var L=t((function(t){const e=[],o=[0],r=[];for(let e=0;e<t.length;){const n=t.codePointAt(e);r.push(p.get(n)|d.get(n)),e+=n>65535?2:1,o.push(e)}for(let n=0;n<r.length;){const i=h(r,n),s=o[n],a=o[n+i];e.push(t.slice(s,a)),n+=i}return e}));export{L as default};
//# sourceMappingURL=index.mjs.map
