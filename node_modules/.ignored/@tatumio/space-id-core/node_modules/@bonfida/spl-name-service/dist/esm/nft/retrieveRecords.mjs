import{NftRecord as t}from"./state.mjs";import{getRecordFromMint as o}from"./getRecordFromMint.mjs";import{TOKEN_PROGRAM_ID as e}from"../node_modules/@solana/spl-token/lib/esm/constants.mjs";import{AccountLayout as a}from"../node_modules/@solana/spl-token/lib/esm/state/account.mjs";const s=t=>[{memcmp:{offset:32,bytes:t}},{memcmp:{offset:64,bytes:"2"}}],m=async(m,n)=>{const r=[...s(n.toBase58()),{dataSize:165}],i=(await m.getProgramAccounts(e,{filters:r})).map((t=>a.decode(t.account.data))).map((e=>(async(e,a)=>{const s=await o(e,a.mint);if(1===s.length)return t.deserialize(s[0].account.data)})(m,e)));return(await Promise.all(i)).filter((t=>void 0!==t))};export{m as retrieveRecords};
//# sourceMappingURL=retrieveRecords.mjs.map
