"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_virtual/_commonjsHelpers.cjs"),t=require("./typeTrie.json.cjs"),r=require("./extPict.json.cjs"),n=require("../unicode-trie/index.cjs"),o=require("../js-base64/base64.cjs");const i=require("./types.cjs").types,s=t.default.data,c=r.default.data,a=n.unicodeTrie,u=o.base64Exports.Base64,d=new a(u.toUint8Array(s)),l=new a(u.toUint8Array(c));function f(e,t){return 0!=(e&t)}const p=0,g=1,j=2;function x(e,t){const r=e.length;let n=0,o=p;for(let s=t;s+1<r;s++){const r=e[s+0],c=e[s+1];switch(f(r,i.Regional_Indicator)||(n=0),o){case j:case p:o=f(r,i.Extended_Pictographic)?g:p;break;case g:o=f(r,i.Extend)?g:f(r,i.ZWJ)&&f(c,i.Extended_Pictographic)?j:p}if(!f(r,i.CR)||!f(c,i.LF)){if(f(r,i.Control|i.CR|i.LF))return s+1-t;if(f(c,i.Control|i.CR|i.LF))return s+1-t;if(!(f(r,i.L)&&f(c,i.L|i.V|i.LV|i.LVT)||f(r,i.LV|i.V)&&f(c,i.V|i.T)||f(r,i.LVT|i.T)&&f(c,i.T)||f(c,i.Extend|i.ZWJ)||f(c,i.SpacingMark)||f(r,i.Prepend)||o===j)){if(!f(r,i.Regional_Indicator)||!f(c,i.Regional_Indicator)||n%2!=0)return s+1-t;n++}}}return r-t}var h=function(e){const t=[],r=[0],n=[];for(let t=0;t<e.length;){const o=e.codePointAt(t);n.push(d.get(o)|l.get(o)),t+=o>65535?2:1,r.push(t)}for(let o=0;o<n.length;){const i=x(n,o),s=r[o],c=r[o+i];t.push(e.slice(s,c)),o+=i}return t},L=e.getDefaultExportFromCjs(h);exports.default=L;
//# sourceMappingURL=index.cjs.map
